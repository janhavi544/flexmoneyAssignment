{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { omit } from 'lodash';\nfunction useForm() {\n  _s();\n  //Form values\n  const [values, setValues] = useState({});\n  //Errors\n  const [errors, setErrors] = useState({});\n\n  //A method to handle form inputs\n  const handleChange = event => {\n    //To stop default events    \n    event.persist();\n    let name = event.target.name;\n    let val = event.target.value;\n\n    //Let's set these values in state\n    setValues({\n      ...values,\n      [name]: val\n    });\n  };\n  const handleSubmit = event => {\n    if (event) event.preventDefault();\n    if (Object.keys(errors).length === 0 && Object.keys(values).length !== 0) {\n      callback();\n    } else {\n      alert(\"There is an Error!\");\n    }\n  };\n  const validate = (event, name, value) => {\n    switch (name) {\n      case 'username':\n        if (value.length <= 4) {\n          // we will set the error state\n\n          setErrors({\n            ...errors,\n            username: 'Username atleast have 5 letters'\n          });\n        } else {\n          // set the error state empty or remove the error for username input\n\n          //omit function removes/omits the value from given object and returns a new object\n          let newObj = omit(errors, \"username\");\n          setErrors(newObj);\n        }\n        break;\n      case 'email':\n        if (!new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(value)) {\n          setErrors({\n            ...errors,\n            email: 'Enter a valid email address'\n          });\n        } else {\n          let newObj = omit(errors, \"email\");\n          setErrors(newObj);\n        }\n        break;\n      case 'password':\n        if (!new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/).test(value)) {\n          setErrors({\n            ...errors,\n            password: 'Password should contains atleast 8 charaters and containing uppercase,lowercase and numbers'\n          });\n        } else {\n          let newObj = omit(errors, \"password\");\n          setErrors(newObj);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  return values, errors, handleChange;\n}\n_s(useForm, \"oIbDGYi0uOTpTzOl9U/+/w4jPVs=\");\nexport default useForm;","map":{"version":3,"names":["useState","omit","useForm","values","setValues","errors","setErrors","handleChange","event","persist","name","target","val","value","handleSubmit","preventDefault","Object","keys","length","callback","alert","validate","username","newObj","RegExp","test","email","password"],"sources":["D:/webD/flexmoney/form/src/hooks/useForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport {omit} from 'lodash'\r\n\r\nfunction useForm  ()  {\r\n    //Form values\r\n    const [values, setValues] = useState({});\r\n    //Errors\r\n    const [errors, setErrors] = useState({});\r\n\r\n\r\n  //A method to handle form inputs\r\n    const handleChange = (event) => {\r\n        //To stop default events    \r\n        event.persist();\r\n\r\n        let name = event.target.name;\r\n        let val = event.target.value;\r\n\r\n        //Let's set these values in state\r\n        setValues({\r\n            ...values,\r\n            [name]:val,\r\n        })\r\n\r\n    }\r\n    const handleSubmit = (event) => {\r\n        if(event) event.preventDefault();\r\n\r\n        if(Object.keys(errors).length === 0 && Object.keys(values).length !==0 ){\r\n            callback();\r\n\r\n        }else{\r\n            alert(\"There is an Error!\");\r\n        }\r\n    }\r\n    const validate = (event, name, value) => {\r\n        switch (name) {\r\n            case 'username':\r\n                if(value.length <= 4){\r\n                    // we will set the error state\r\n\r\n                    setErrors({\r\n                        ...errors,\r\n                        username:'Username atleast have 5 letters'\r\n                    })\r\n                }else{\r\n                    // set the error state empty or remove the error for username input\r\n\r\n                    //omit function removes/omits the value from given object and returns a new object\r\n                    let newObj = omit(errors, \"username\");\r\n                    setErrors(newObj);\r\n                    \r\n                }\r\n                break;\r\n        \r\n            case 'email':\r\n                if(\r\n                    !new RegExp( /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(value)\r\n                ){\r\n                    setErrors({\r\n                        ...errors,\r\n                        email:'Enter a valid email address'\r\n                    })\r\n                }else{\r\n\r\n                    let newObj = omit(errors, \"email\");\r\n                    setErrors(newObj);\r\n                    \r\n                }\r\n            break;\r\n            \r\n            case 'password':\r\n                if(\r\n                    !new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/).test(value)\r\n                ){\r\n                    setErrors({\r\n                        ...errors,\r\n                        password:'Password should contains atleast 8 charaters and containing uppercase,lowercase and numbers'\r\n                    })\r\n                }else{\r\n\r\n                    let newObj = omit(errors, \"password\");\r\n                    setErrors(newObj);\r\n                    \r\n                }\r\n            break;\r\n            \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    return( values,\r\n        errors,\r\n        handleChange);\r\n    \r\n    }\r\n    \r\n    export default useForm"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAAQC,IAAI,QAAO,QAAQ;AAE3B,SAASC,OAAO,GAAM;EAAA;EAClB;EACA,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGJ,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC;EACA,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAG1C;EACE,MAAMO,YAAY,GAAIC,KAAK,IAAK;IAC5B;IACAA,KAAK,CAACC,OAAO,EAAE;IAEf,IAAIC,IAAI,GAAGF,KAAK,CAACG,MAAM,CAACD,IAAI;IAC5B,IAAIE,GAAG,GAAGJ,KAAK,CAACG,MAAM,CAACE,KAAK;;IAE5B;IACAT,SAAS,CAAC;MACN,GAAGD,MAAM;MACT,CAACO,IAAI,GAAEE;IACX,CAAC,CAAC;EAEN,CAAC;EACD,MAAME,YAAY,GAAIN,KAAK,IAAK;IAC5B,IAAGA,KAAK,EAAEA,KAAK,CAACO,cAAc,EAAE;IAEhC,IAAGC,MAAM,CAACC,IAAI,CAACZ,MAAM,CAAC,CAACa,MAAM,KAAK,CAAC,IAAIF,MAAM,CAACC,IAAI,CAACd,MAAM,CAAC,CAACe,MAAM,KAAI,CAAC,EAAE;MACpEC,QAAQ,EAAE;IAEd,CAAC,MAAI;MACDC,KAAK,CAAC,oBAAoB,CAAC;IAC/B;EACJ,CAAC;EACD,MAAMC,QAAQ,GAAG,CAACb,KAAK,EAAEE,IAAI,EAAEG,KAAK,KAAK;IACrC,QAAQH,IAAI;MACR,KAAK,UAAU;QACX,IAAGG,KAAK,CAACK,MAAM,IAAI,CAAC,EAAC;UACjB;;UAEAZ,SAAS,CAAC;YACN,GAAGD,MAAM;YACTiB,QAAQ,EAAC;UACb,CAAC,CAAC;QACN,CAAC,MAAI;UACD;;UAEA;UACA,IAAIC,MAAM,GAAGtB,IAAI,CAACI,MAAM,EAAE,UAAU,CAAC;UACrCC,SAAS,CAACiB,MAAM,CAAC;QAErB;QACA;MAEJ,KAAK,OAAO;QACR,IACI,CAAC,IAAIC,MAAM,CAAE,uJAAuJ,CAAC,CAACC,IAAI,CAACZ,KAAK,CAAC,EACpL;UACGP,SAAS,CAAC;YACN,GAAGD,MAAM;YACTqB,KAAK,EAAC;UACV,CAAC,CAAC;QACN,CAAC,MAAI;UAED,IAAIH,MAAM,GAAGtB,IAAI,CAACI,MAAM,EAAE,OAAO,CAAC;UAClCC,SAAS,CAACiB,MAAM,CAAC;QAErB;QACJ;MAEA,KAAK,UAAU;QACX,IACI,CAAC,IAAIC,MAAM,CAAC,6CAA6C,CAAC,CAACC,IAAI,CAACZ,KAAK,CAAC,EACzE;UACGP,SAAS,CAAC;YACN,GAAGD,MAAM;YACTsB,QAAQ,EAAC;UACb,CAAC,CAAC;QACN,CAAC,MAAI;UAED,IAAIJ,MAAM,GAAGtB,IAAI,CAACI,MAAM,EAAE,UAAU,CAAC;UACrCC,SAAS,CAACiB,MAAM,CAAC;QAErB;QACJ;MAEA;QACI;IAAM;EAElB,CAAC;EACD,OAAQpB,MAAM,EACVE,MAAM,EACNE,YAAY;AAEhB;AAAC,GA5FIL,OAAO;AA8FZ,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}